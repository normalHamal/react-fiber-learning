<!DOCTYPE html>
<html style="width: 100%; height: 100%; overflow: hidden">
  <head>
    <meta charset="utf-8">
    <title>Fiber reconciliation</title>
  </head>
  <body>
    <div id="container">
    </div>
    <script src="js/react.development.js"></script>
    <script src="js/react-dom.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.24/browser.min.js"></script>
    <script type="text/babel">
      const List = (props) => {
        return (
          <React.Fragment>
          {Array.from({ length: props.len }).map((_, i) => (<div key={i}>{i}</div>))}
          </React.Fragment>
        )
      }

      class App extends React.Component {
        constructor() {
          super();
          this.state = { len: 0 };
        }

        handleClick() {
          this.setState((state) => ({ len: state.len + 1 }));
        }

        onDelete() {
          this.setState((state) => ({ len: state.len - 1 }));
        }

        render() {
          const { len } = this.state;

          return (
            <React.Fragment>
              <div>{len}</div>
              <button onClick={this.handleClick.bind(this)}>increasing</button>
              <button onClick={this.onDelete.bind(this)}>delete</button>
              <List len={len} />
            </React.Fragment>
          );
        }
      }

      ReactDOM.createRoot(
        document.getElementById('container')
      ).render(<App />);
    </script>
  </body>
</html>
